### Hypothesis 5: Customer reviews
1. **Customer Reviews/Ratings Impact on Revenue Trends**

We first need to understand how individual customer reviews and ratings contribute to overall revenue trends.


```sql
-- Query to explore customer reviews/ratings and their contribution to revenue trends
SELECT
  c.customer_id,
  c.first_name,
  COUNT(o.order_id) AS order_count,
  ROUND(AVG(o.order_rating), 2) AS average_rating,
  ROUND(SUM(o.final_price), 2) AS total_revenue
FROM customers c
LEFT JOIN orders o ON c.customer_id = o.customer_id
GROUP BY c.customer_id;
```
Query explanation: 

1. **Orders per customer:** COUNT(o.order_id) calculates the number of orders per customer.
2. **Rating:** computes the average rating given by each customer.
3. **Total revenue:** SUM(o.final_price) totals the revenue generated by each customer's orders.

The results provide insights into how individual customer reviews and ratings correlate with their contribution to overall revenue trends:

| customer_id | first_name | order_count | average_rating | total_revenue |
|-------------|------------|-------------|-----------------|---------------|
| 9942        | Kurt       | 3           | 5               | 243.6         |
| 5730        | Taylor     | 3           | 5               | 168.6         |
| 7803        | Michelle   | 3           | 5               | 157.2         |
| 1905        | Minerva    | 3           | 5               | 148           |
| 2052        | Veronica   | 2           | 5               | 144.6         |
| 999         | Teresa     | 2           | 5               | 144.1         |
| 4532        | Alfred     | 1           | 4.97            | 21.2          |
| 6972        | Lawrence   | 6           | 4.96            | 203           |
| 7373        | Rita       | 4           | 4.96            | 104.4         |
| 5486        | Richard    | 3           | 4.96            | 87.1          |
| 8117        | Karin      | 2           | 4.96            | 72.2          |
| 7452        | George     | 3           | 4.96            | 69.9          |
| 2969        | Emmett     | 3           | 3.85            | 68.2          |
| 4053        | Patricia   | 3           | 3.85            | 66.8          |
| 7535        | Guy        | 4           | 3.85            | 66.6          |
| 1643        | Michael    | 1           | 3.85            | 64.8          |
| 9746        | Tyrell     | 4           | 3.85            | 62.4          |
| 1412        | Richard    | 3           | 3.85            | 57.4          |
| ...         | ...        | ...         | ...             | ...           |


These results are only a sample of the more than 10k+ rows returned. There seems to be a general regression pattern indicating a general descend in revenue as the average rating is lower. 


2. **Ratings' Impact on Individual Restaurants**

Now we need to examine how ratings affect individual restaurants and their contribution to revenue trends. For that purpose, we will be using the following query:

```sql
-- Query to explore how ratings affect individual restaurants
SELECT
  r.restaurant_name,
  r.restaurant_id,
  r.cuisine,
  ROUND(AVG(o.order_rating), 2) AS average_order_rating,
  ROUND(SUM(o.final_price), 2) AS total_revenue
FROM restaurants r
LEFT JOIN food_items fi ON r.restaurant_id = fi.restaurant_id
LEFT JOIN orders_items oi ON fi.item_id = oi.item_id
LEFT JOIN orders o ON oi.order_id = o.order_id
GROUP BY r.restaurant_name, r.restaurant_id
HAVING average_order_rating IS NOT NULL
ORDER BY total_revenue DESC;

```

Query explanation:

1. **Selection of Columns:** The query selects essential columns, including restaurant name, ID, cuisine, rounded average order rating, and rounded total revenue.
2. **Joins:** It employs LEFT JOINs to associate restaurants with their food items and orders, facilitating the calculation of average order ratings and total revenue.
3. **Grouping and Filtering:** The results are grouped by restaurant name and ID, with a HAVING clause excluding restaurants with null average order ratings.
4. **Sorting:** The final output is ordered by total revenue in descending order, providing insights into restaurant performance based on these metrics.

The results offer insights into how ratings impact the revenue trends of individual restaurants, and they look as follows:

| Restaurant Name             | Restaurant ID | Cuisine | Average Order Rating | Total Revenue |
|-----------------------------|---------------|---------|-----------------------|---------------|
| Cervo's                     | 20            | Italian | 3.83                  | 5951          |
| Frankies 457 Spuntino       | 9             | Italian | 3.78                  | 5908.6        |
| Il Buco                     | 34            | Italian | 3.75                  | 10146.9       |
| ...                         | ...           | ...     | ...                   | ...           |
| Kiki's                      | 61            | Thai    | 3.54                  | 6558.6        |
| Llama San                   | 49            | Chinese | 3.53                  | 12088.5       |
| Upland                       | 6            | Thai    | 3.5                   | 11268.7       |

Restaurants are sorted by total revenue in descending order, showcasing their performance based on these metrics. talian and Chinese cuisines thrive, exemplified by top performers, while Thai and Indian cuisines exhibit comparatively lower performance in terms of average order ratings and total revenue for Foodhunter restaurants.  Cervo's and Roberta's emerge as top-performing restaurants, whereas Santina and Mission Chinese Food face challenges in customer ratings and revenue.


---



### Conclusion

We **accept hypothesis 5**, as customer reviews and ratings significantly impact revenue trends, with top-performing restaurants consistently receiving higher ratings and contributing more to overall revenue.

Some proposed actionable insights might include:
- Implement strategies to enhance customer satisfaction, particularly focusing on top-performing cuisines and restaurants, to further boost revenue. 
- Consider targeted marketing efforts for these high-performing areas to maximize their potential.
